Template::Document->new({METADATA=>{'name'=>'/usr/local/cpanel/whostmgr/docroot/templates/eximstats.tmpl','modtime'=>'1728930269',},BLOCK=>sub {my$context=shift || die "template sub called without context\n";my$stash=$context->stash;my$output='';my$_tt_error;eval {BLOCK: {$stash->set('Whostmgr',$context->plugin('Whostmgr'));if ($stash->get('start')){$output .= $context->process('master_templates/_defheader.tmpl',{'theme'=>'yui','app_key'=>'view_mail_statistics_summary','scripts'=>[$stash->get(['Whostmgr',0,'find_file_url',['/libraries/jquery/current/jquery.min.js' ]])]});if (!$stash->get(['data',0,'found_eximstats',0])){$output .= 'Cannot find eximstats program!
'}elsif (!$stash->get(['data',0,'found_elog',0])){$output .= 'Cannot find exim main log!
'}else {$output .= '<span id="generate">Generating stats; please wait.
(This could take a minute).....</span>
'}}elsif ($stash->get('ready')){$output .= "<script type=\"text/javascript\">\ndocument.getElementById('generate').style.display = 'none';\nfunction scrolltoTop(){\n    \$(\"#contentContainer\").animate({scrollTop:0},300);\n}\n\$(document).ready(function(){\n    /* uses link to find target and build a region */\n    function make_click_and_region(link){\n        var target = link.attr(\"href\").replace(/^#(.+)/, \"\$1\");\n        var top = \$(\"a[name='\" + target + \"']\").offset().top;\n        last.attr(\"href\",\"#\"+target)\n            .click(function(e){\n                if(this.hash !== \"\"){\n                    e.preventDefault();\n                    \$(\"#contentContainer\").animate({scrollTop:top - \$(\"#topFrameWrapper\").height() - \$(\"#navigation\").height()},300);\n                }\n            });\n        // Also inject a \"back to top\" link\n        var btt = \$(\"<span>&nbsp;(<a href='javascript:scrolltoTop();' alt='";$output .= $stash->get(['locale',0,'maketext',['Back To Top' ]]);$output .= '\'>';$output .= $stash->get(['locale',0,'maketext',['Back To Top' ]]);$output .= "</a>)</span>\");\n        \$(\"h2:contains(\"+link.text()+\")\").append(btt);\n    }\n    var last;\n    \$(\"ul\").find(\"li\").find(\"a[href^='#']\").each(function(){\n        /* start with second option to find bottom of region */\n        if(!last){\n            last = \$(this);\n            return;\n        }\n\n        make_click_and_region(last);\n\n        last = \$(this);\n    });\n    /* apply click and region to last item in list using bottom of document as bottom of region */\n    make_click_and_region(last);\n});\n</script>\n"}else {$output .= $context->process('master_templates/_deffooter.tmpl')}}};if ($@){$_tt_error=$context->catch($@,\$output);die$_tt_error unless$_tt_error->type eq 'return'}return$output},DEFBLOCKS=>{},});