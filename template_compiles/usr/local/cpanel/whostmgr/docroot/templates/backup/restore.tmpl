Template::Document->new({METADATA=>{'name'=>'/usr/local/cpanel/whostmgr/docroot/templates/backup/restore.tmpl','modtime'=>'1728930269',},BLOCK=>sub {my$context=shift || die "template sub called without context\n";my$stash=$context->stash;my$output='';my$_tt_error;eval {BLOCK: {$stash->set('JSON',$context->plugin('JSON'));$stash->set('Whostmgr',$context->plugin('Whostmgr'));$output .= do {my$output='';$stash->set('spinner16',$stash->get(['MagicRevision',['/images/loading-arrows-16.gif' ]]));$stash->set('activeImage',$stash->get(['MagicRevision',['/images/24-active.gif' ]]));$stash->set('pendingImage',$stash->get(['MagicRevision',['/images/24-pending.png' ]]));$stash->set('successImage',$stash->get(['MagicRevision',['/images/24-success.png' ]]));$stash->set('warningImage',$stash->get(['MagicRevision',['/images/warning.png' ]]));$stash->set('errorImage',$stash->get(['MagicRevision',['/images/24-error.png' ]]));$output .= '
<!--[if lt IE 10]>
<style type="text/css">
#content .workflow-focus {
    outline: 3px solid blue;
}
</style>
<![endif]-->
    <div id="content">
        <p class="info-block">';$output .= $stash->get(['locale',0,'maketext',['To queue an account for restoration, select either the [output,strong,Restore by Account] tab or the [output,strong,Restore by Date] tab.' ]]);$output .= '</p>
        <p class="info-block">';$output .= $stash->get(['locale',0,'maketext',['You [output,strong,must] click the [output,strong,Restore] button at the bottom of the page to activate the Restoration Queue.' ]]);$output .= '</p>
        <ul class="nav nav-tabs">
            <li id="select-by-account" class="active"><a href="#">';$output .= $stash->get(['locale',0,'maketext',['Restore by Account' ]]);$output .= '</a></li>
            <li id="select-by-date"><a href="#">';$output .= $stash->get(['locale',0,'maketext',['Restore by Date' ]]);$output .= '</a></li>
        </ul>
        <div class="tab-content">
            <div id="restore_mask" class="hidden">&nbsp;</div>
            <form name="restore_form" id="restore_point_form" class="complex" autocomplete="off">
                <div class="float-content row" id="tab_area">
                    <div id="user_selection" class="workflow-focus col-xs-12 col-sm-6 col-lg-4">
                        <h5>';$output .= $stash->get(['locale',0,'maketext',['Select User' ]]);$output .= '</h5>
                        <div title="';$output .= $stash->get(['locale',0,'maketext',['Clear filter' ]]);$output .= '" id="clear_user_filter" class="clear-filter hidden">&nbsp;</div>
                        <input type="text" placeholder="';$output .= $stash->get(['locale',0,'maketext',['Filter Accounts' ]]);$output .= '" id="user_filter" class="filter form-control" />
                        <input type="hidden" name="user" id="restore_user" />
                        <div id="restore_user_list" tabIndex="-1">
                            ';$output .= '
                            ';do {my ($_tt_value,$_tt_error,$_tt_oldloop);my$_tt_list=$stash->get(['data',0,'users_list',0]);unless (UNIVERSAL::isa($_tt_list,'Template::Iterator')){$_tt_list=Template::Config->iterator($_tt_list)|| die$Template::Config::ERROR,"\n"}($_tt_value,$_tt_error)=$_tt_list->get_first();eval {$_tt_oldloop=$stash->get('loop')};$stash->set('loop',$_tt_list);eval {FOR1: while (!$_tt_error){$stash->{'i'}=$_tt_value;$output .= '
                            <span id="';$output .= $stash->get(['i',0,'key',0]);$output .= '" class="restore-user-option">';$output .= $stash->get(['i',0,'key',0]);$output .= '</span> ';$stash->set('cache',$stash->get(['loop',0,'count',0])+ 1);$output .= ' ';;($_tt_value,$_tt_error)=$_tt_list->get_next()}};$stash->set('loop',$_tt_oldloop);die $@ if $@;$_tt_error=0 if$_tt_error && $_tt_error eq Template::Constants::STATUS_DONE;die$_tt_error if$_tt_error};$output .= '
                        </div>
                    </div>
                    <div id="restore_selection" class="col-xs-12 col-sm-6 col-lg-4">
                        <input type="hidden" name="restore_point" id="restore_point" />
                        <h5>';$output .= $stash->get(['locale',0,'maketext',['Available Backup Dates' ]]);$output .= '</h5>
                        <div id="restore_calendar" class="pull-left flip"></div>
                    </div>
                    <div id="restore_options" class="col-xs-12 col-sm-6 col-lg-4">
                        <h5>';$output .= $stash->get(['locale',0,'maketext',['Options' ]]);$output .= '</h5>
                        <div class="checkbox">
                            <label>
                                <input type="checkbox" checked="checked" value="1" name="subdomains" />
                                <span>';$output .= $stash->get(['locale',0,'maketext',['Restore Subdomains' ]]);$output .= '</span>
                            </label>
                        </div>
                        <div class="checkbox">
                            <label>
                                <input type="checkbox" checked="checked" value="1" name="mail_config" />
                                <span>';$output .= $stash->get(['locale',0,'maketext',['Restore Mail Configuration' ]]);$output .= '</span>
                            </label>
                        </div>
                        <div class="checkbox">
                            <label>
                                <input type="checkbox" checked="checked" value="1" name="mysql" />
                                <span>';$output .= $stash->get(['locale',0,'maketext',['Restore Databases' ]]);$output .= '</span>
                            </label>
                        </div>
                        <div id="destination_container">
                            <label for="destination_select">';$output .= $stash->get(['locale',0,'maketext',['Restore from' ]]);$output .= '</label>
                            <select id="destination_select" name="destid" disabled class="disabled">
                                <option value="local">Local</option>
                            </select>
                        </div>
                        <hr/>
                        <div class="checkbox">
                            <label>
                                <input type="checkbox" value="1" name="give_ip" />
                                <span>';$output .= $stash->get(['locale',0,'maketext',['Give Dedicated IP Address' ]]);$output .= '</span>
                            </label>
                        </div>
                        <button type="button" title="';$output .= $stash->get(['locale',0,'maketext',['Add Account to Queue' ]]);$output .= '" id="queue_add_user" class="btn btn-default float-bottom add-to-queue">
                            <div class="spinner"><img src="';$output .= $stash->get('spinner16');$output .= '" /></div>
                            <div class="button-text">';$output .= $stash->get(['locale',0,'maketext',['Add Account to Queue' ]]);$output .= '</div>
                        </button>
                    </div>
                </div>
                <div class="cjt-notice-container cjt-pagenotice-container" id="notice_area"></div>
                <div class="section">
                    <h4 class="section-heading">';$output .= $stash->get(['locale',0,'maketext',['Restoration Queue' ]]);$output .= '</h4>
                    <div id="table_container" class="section-body table-responsive">
                        <table id="restore_table" class="table-action table table-striped">
                            <thead>
                                <tr>
                                    <th id="restore_name_header">';$output .= $stash->get(['locale',0,'maketext',['Account' ]]);$output .= '</th>
                                    <th id="restore_type_header">';$output .= $stash->get(['locale',0,'maketext',['Original Backup Date' ]]);$output .= '</th>
                                    <th id="restore_source_header">';$output .= $stash->get(['locale',0,'maketext',['Source' ]]);$output .= '</th>
                                    <th id="restore_status_header">';$output .= $stash->get(['locale',0,'maketext',['Status' ]]);$output .= '</th>
                                    <th id="restore_actions_header" valign="top">
                                        <div class="relative-div no-margins">
                                            <a href="#stop" id="gear" title="';$output .= $stash->get(['locale',0,'maketext',['Options to clear the queue.' ]]);$output .= '" class="gear"><img alt="';$output .= $stash->get(['locale',0,'maketext',['Options to clear the queue.' ]]);$output .= '" src="';$output .= $stash->get(['MagicRevision',['/images/gear-icon.png' ]]);$output .= '" />
                                                <div class="arrow">&#9660;</div>
                                            </a>
                                            <div id="remove_menu" class="floating-menu hidden">
                                                <a href="#stop" id="remove_queue" class="menu-item">';$output .= $stash->get(['locale',0,'maketext',['Clear pending accounts' ]]);$output .= '</a>
                                                <a href="#stop" id="remove_completed" class="menu-item">';$output .= $stash->get(['locale',0,'maketext',['Clear completed accounts' ]]);$output .= '</a>
                                                <a href="#stop" id="remove_errors" class="menu-item">';$output .= $stash->get(['locale',0,'maketext',['Clear error notices' ]]);$output .= '</a>
                                                <a href="#stop" id="remove_all" class="menu-item">';$output .= $stash->get(['locale',0,'maketext',['Clear all accounts' ]]);$output .= '</a>
                                            </div>
                                            <span id="restore_actions_label">';$output .= $stash->get(['locale',0,'maketext',['Actions' ]]);$output .= '</span>
                                        </div>
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="table_data">
                                <tr>
                                    <td colspan="5" class="table-loading">
                                        <img src="';$output .= $stash->get('spinner16');$output .= '" /> ';$output .= $stash->get(['locale',0,'maketext',['Please wait while the restoration queue is loaded.' ]]);$output .= '
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="form-actions-group form-action-button-group">
                        <button type="button" title="';$output .= $stash->get(['locale',0,'maketext',['Restore' ]]);$output .= '" id="run_restore" class="btn btn-primary">
                            <div class="spinner"><img src="';$output .= $stash->get('spinner16');$output .= '" /></div>
                            <div class="button-text">';$output .= $stash->get(['locale',0,'maketext',['Restore' ]]);$output .= '</div>
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>

<script type="text/plain" id="row_container_template">
    <table>
        <tbody class="row-container">
            {content}
        </tbody>
    </table>
</script>
<script type="text/plain" id="row_template">
    <tr id="queue_table_row_{row_id}" class="{rowClass}">
        <td id="{statusId}" class="{rowClass}">{user}</td>
        <td>{date}</td>
        <td>{source}</td>
        <td class="row-status">
            <img src="{statusImage}" /> {status}
        </td>
        <td class="row-actions">
            <img src="';$output .= $stash->get('spinner16');$output .= '" />
            <button type="button" title="';$output .= $stash->get(['locale',0,'maketext',['View Log' ]]);$output .= '" id="viewlog_{id}" class="{viewButtonClass} btn btn-link">';$output .= $stash->get(['locale',0,'maketext',['View Log' ]]);$output .= '</button>
            <button type="button" title="';$output .= $stash->get(['locale',0,'maketext',['Clear' ]]);$output .= '" id="remove_{id}" class="{clearButtonClass} btn btn-link">';$output .= $stash->get(['locale',0,'maketext',['Clear' ]]);$output .= '</button>
        </td>
    </tr>
</script>
<script type="text/plain" id="row_status">
    <tr>
        <td colspan="5" class="cjt-notice-container cjt-pagenotice-container">
            <div class="yui-module cjt-notice cjt-pagenotice cjt-notice-{type}">
                <div user="{user}" time="{time}" class="close">×</div>
                <div class="bd">
                    <div class="cjt-notice-content">{message}</div>
                </div>
            </div>
        </td>
    </tr>
</script>
<script type="text/plain" id="no_records_found_template">
    <tr>
        <td colspan="5" class="no_records_found">';$output .= $stash->get(['locale',0,'maketext',['The queue is currently empty.' ]]);$output .= '</td>
    </tr>
</script>
<script type="text/javascript">
CPANEL.namespace("CPANEL.PAGE");
CPANEL.PAGE = {
    activeQueue: "';$output .= $stash->get(['data',0,'active_queue',0]);$output .= '",
    activeImage: "';$output .= $stash->get('activeImage');$output .= '",
    pendingImage: "';$output .= $stash->get('pendingImage');$output .= '",
    successImage: "';$output .= $stash->get('successImage');$output .= '",
    warningImage: "';$output .= $stash->get('warningImage');$output .= '",
    errorImage: "';$output .= $stash->get('errorImage');$output .= '",
    users: ';$output .= $stash->get(['data',0,'users_list',0,'json',0])|| '[]';$output .= ',
    destinations: ';$output .= $stash->get(['data',0,'destinations',0,'json',0])|| '[]';$output .= ',
    queue: ';$output .= $stash->get(['data',0,'restore_queue',0,'json',0])|| '[]';$output .= ',
    active: ';$output .= $stash->get(['data',0,'active_restore',0,'json',0])|| '[]';$output .= ',
    finished: ';$output .= $stash->get(['data',0,'recently_finished',0,'json',0])|| '[]';$output .= ',
    localBackupsAvailable: ';$output .= $stash->get(['data',0,'is_local_backup',0,'json',0]);$output .= ' === "0" ? false : true
};
</script>

';$context->include('master_templates/master.tmpl',{'header'=>$stash->get(['locale',0,'maketext',['Backup Restoration' ]]),'breadcrumburl'=>'/scripts5/restoremenu','theme'=>'bootstrap','app_key'=>'backup_restoration','stylesheets'=>[$stash->get(['Whostmgr',0,'find_file_url',['/templates/backup/common.min.css' ]]),$stash->get(['Whostmgr',0,'find_file_url',['/yui/assets/skins/sam/calendar.css' ]])],'scripts'=>[$stash->get(['Whostmgr',0,'find_file_url',['/yui/calendar/calendar-min.js' ]]),$stash->get(['Whostmgr',0,'find_file_url',['/templates/backup/form.min.js' ]]),$stash->get(['Whostmgr',0,'find_file_url',['/templates/backup/restore.min.js' ]])],'content',$output })}}};if ($@){$_tt_error=$context->catch($@,\$output);die$_tt_error unless$_tt_error->type eq 'return'}return$output},DEFBLOCKS=>{},});