Template::Document->new({METADATA=>{'name'=>'/usr/local/cpanel/whostmgr/docroot/templates/changeip.tmpl','modtime'=>'1728930269',},BLOCK=>sub {my$context=shift || die "template sub called without context\n";my$stash=$context->stash;my$output='';my$_tt_error;eval {BLOCK: {$stash->set('Net',$context->plugin('Net'));$stash->set('CPSort',$context->plugin('CPSort'));$stash->set('CPList',$context->plugin('CPList'));if (!$stash->get(['data',0,'mc',0])){$output .= $context->process('master_templates/_defheader.tmpl',{'breadcrumburl'=>'/scripts2/changeip','theme'=>'yui','app_key'=>'change_sites_ip_address' })}if ($stash->get(['data',0,'ipmigratelock',0])){$output .= 'You cannot change IP addresses while an IP migration is in progress.
'}else {$output .= '
<h3 class=\'simpleheading\'>Changing IP for ';$output .= $stash->get(['data',0,'user',0]);$output .= ' (';$output .= $stash->get(['data',0,'domain',0]);$output .= ')</h3>

<span class="b2">Current Address:</span> <i>';$output .= $stash->get(['data',0,'domainip',0]);$output .= '</i>
';if ($stash->get(['data',0,'owner_shared_ip',0])eq $stash->get(['data',0,'domainip',0])){$output .= '(owner ';$output .= $stash->get(['data',0,'owner',0]);$output .= '\'s shared IP)
'}elsif ($stash->get(['data',0,'server_shared_ip',0])eq $stash->get(['data',0,'domainip',0])){$output .= '(main server shared IP)
'}$output .= '
<br /><span class="b2">Current Sub/Parked Domains:</span>

<table border=\'0\' width=\'100%\'>
';do {my ($_tt_value,$_tt_error,$_tt_oldloop);my$_tt_list=$stash->get(['data',0,'dnslist',0,'sort',0]);unless (UNIVERSAL::isa($_tt_list,'Template::Iterator')){$_tt_list=Template::Config->iterator($_tt_list)|| die$Template::Config::ERROR,"\n"}($_tt_value,$_tt_error)=$_tt_list->get_first();eval {$_tt_oldloop=$stash->get('loop')};$stash->set('loop',$_tt_list);eval {FOR1: while (!$_tt_error){$stash->{'dns'}=$_tt_value;$output .= '<tr><td>';$output .= $stash->get('dns');$output .= '</td><td></td><td></td><td></td></tr>
';;($_tt_value,$_tt_error)=$_tt_list->get_next()}};$stash->set('loop',$_tt_oldloop);die $@ if $@;$_tt_error=0 if$_tt_error && $_tt_error eq Template::Constants::STATUS_DONE;die$_tt_error if$_tt_error};$output .= '</table>

';if ($stash->get(['data',0,'mc',0])eq ''){$output .= '<form method="POST">
      <input type="hidden" name="user" value="';$output .= $stash->get(['data',0,'user',0]);$output .= '" />
      <input type="hidden" name="oldip" value="';$output .= $stash->get(['data',0,'domainip',0]);$output .= '" />
      <span class="b2">New Address:</span>
      <select name="customip">
'}else {$output .= '      <input type="hidden" name="user-';$output .= $stash->get(['data',0,'mc',0]);$output .= '" value="';$output .= $stash->get(['data',0,'user',0]);$output .= '" />
      <input type="hidden" name="oldip-';$output .= $stash->get(['data',0,'mc',0]);$output .= '" value="';$output .= $stash->get(['data',0,'domainip',0]);$output .= '" />
      <span class="b2">New Address:</span>
      <select name="customip-';$output .= $stash->get(['data',0,'mc',0]);$output .= '">
'}$output .= '
';do {my ($_tt_value,$_tt_error,$_tt_oldloop);my$_tt_list=$stash->get(['data',0,'ipdata',0,'keys',0,'cpsort',[{'num'=>1,'code'=>$stash->getref(['Net',0,'inet_aton',0])}]]);unless (UNIVERSAL::isa($_tt_list,'Template::Iterator')){$_tt_list=Template::Config->iterator($_tt_list)|| die$Template::Config::ERROR,"\n"}($_tt_value,$_tt_error)=$_tt_list->get_first();eval {$_tt_oldloop=$stash->get('loop')};$stash->set('loop',$_tt_list);eval {FOR1: while (!$_tt_error){$stash->{'ip'}=$_tt_value;$stash->set('delegated_to_user',$stash->get(['data',0,'ipdata',0,$stash->get('ip'),0,'delegated',0,$stash->get(['data',0,'user',0]),0]));$stash->set('dedicated',$stash->get(['data',0,'ipdata',0,$stash->get('ip'),0,'dedicated_user',0]));$stash->set('reserved',$stash->get(['data',0,'ipdata',0,$stash->get('ip'),0,'reserved',0]));$stash->set('nameserver',$stash->get(['data',0,'ipdata',0,$stash->get('ip'),0,'nameserver',0]));$stash->set('input_disabled',($stash->get('dedicated')&& $stash->get('dedicated')ne $stash->get(['data',0,'domain',0])));$output .= '<option';if ($stash->get('input_disabled')){$output .= ' disabled="disabled"'}elsif ($stash->get('ip')eq $stash->get(['data',0,'domainip',0])){$output .= ' selected="selected"'}$output .= ' value=\'';$output .= $stash->get('ip');$output .= '\'>';$output .= $stash->get('ip');if ($stash->get('ip')eq $stash->get(['data',0,'server_shared_ip',0])){$output .= ' (main shared IP)'}if ($stash->get(['data',0,'ipdata',0,$stash->get('ip'),0,'shared',0,'size',0])> 0){$stash->set('shared_list',$stash->get(['data',0,'ipdata',0,$stash->get('ip'),0,'shared',0,'ungrep',['\Aroot\z' ]]));if ($stash->get(['shared_list',0,'size',0])< $stash->get(['data',0,'ipdata',0,$stash->get('ip'),0,'shared',0,'size',0])){$output .= $stash->get(['shared_list',0,'unshift',['root' ]])}if ($stash->get(['shared_list',0,'size',0])> 5){$stash->set('others_count',$stash->get(['shared_list',0,'size',0])- 4);$output .= ' (' .$stash->get(['locale',0,'maketext',['Shared by [_1], [_2], [_3], [_4], and [quant,_5,other,others].',$stash->get(['shared_list',0,0,0]),$stash->get(['shared_list',0,1,0]),$stash->get(['shared_list',0,2,0]),$stash->get(['shared_list',0,3,0]),$stash->get('others_count')]]).')'}else {$output .= ' (' .$stash->get(['locale',0,'maketext',['Shared by [list_and,_1].',$stash->get('shared_list')]]).')'}}if ($stash->get(['data',0,'ipdata',0,$stash->get('ip'),0,'delegated',0,'size',0])> 0){$stash->set('delegated_list',$stash->get(['data',0,'ipdata',0,$stash->get('ip'),0,'delegated',0,'ungrep',['\Aroot\z' ]]));if ($stash->get(['delegated_list',0,'size',0])< $stash->get(['data',0,'ipdata',0,$stash->get('ip'),0,'delegated',0,'size',0])){$output .= $stash->get(['delegated_list',0,'unshift',['root' ]])}if ($stash->get(['delegated_list',0,'size',0])> 5){$stash->set('others_count',$stash->get(['delegated_list',0,'size',0])- 4);$output .= ' (' .$stash->get(['locale',0,'maketext',['Delegated to [_1], [_2], [_3], [_4], and [quant,_5,other,others].',$stash->get(['delegated_list',0,0,0]),$stash->get(['delegated_list',0,1,0]),$stash->get(['delegated_list',0,2,0]),$stash->get(['delegated_list',0,3,0]),$stash->get('others_count')]]).')'}else {$output .= ' (' .$stash->get(['locale',0,'maketext',['Delegated to [list_and,_1].',$stash->get('delegated_list')]]).')'}}if ($stash->get('dedicated')){$output .= (' (dedicated to ' .$stash->get('dedicated').')')}if ($stash->get('nameserver')){$output .= (' (nameserver ' .$stash->get('nameserver').')')}if ($stash->get('reserved')){$output .= ' (reserved)'}$output .= '</option>
';;($_tt_value,$_tt_error)=$_tt_list->get_next()}};$stash->set('loop',$_tt_oldloop);die $@ if $@;$_tt_error=0 if$_tt_error && $_tt_error eq Template::Constants::STATUS_DONE;die$_tt_error if$_tt_error};$output .= '</select>

';if ($stash->get(['data',0,'mc',0])eq ''){$output .= '<br /><input type="submit" class="btn-primary" value="Change"></form>
<br /><span class="b2">Warning:</span> Changing a site\'s IP address may cause it to appear down from some locations until the DNS has propagated to all nameservers on the Internet.
'}$output .= '
'}if (!$stash->get(['data',0,'mc',0])){$output .= $context->process('master_templates/_deffooter.tmpl',{'theme'=>'yui' })}}};if ($@){$_tt_error=$context->catch($@,\$output);die$_tt_error unless$_tt_error->type eq 'return'}return$output},DEFBLOCKS=>{},});