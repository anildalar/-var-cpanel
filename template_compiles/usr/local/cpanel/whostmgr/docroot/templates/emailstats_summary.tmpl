Template::Document->new({METADATA=>{'name'=>'/usr/local/cpanel/whostmgr/docroot/templates/emailstats_summary.tmpl','modtime'=>'1728930269',},BLOCK=>sub {my$context=shift || die "template sub called without context\n";my$stash=$context->stash;my$output='';my$_tt_error;eval {BLOCK: {$stash->set('DataURI',$context->plugin('DataURI'));$stash->set('JSON',$context->plugin('JSON'));$stash->set('NVData',$context->plugin('NVData'));$stash->set('Whostmgr',$context->plugin('Whostmgr'));$output .= do {my$output='';$stash->set('spinner_url','/images/whm-spinner.gif');if ($stash->get(['CPANEL',0,'ua_is_ie',0])&& $stash->get(['CPANEL',0,'ua_is_ie',0])< 8){$stash->set('spinner_url',$stash->get(['MagicRevision',[$stash->get('spinner_url')]]));$output .= ('<img src=\'' .$stash->get('spinner_url').'\' style=\'display:none\'>')}else {$stash->set('spinner_url',$stash->get(['DataURI',0,'datauri',[$stash->get('spinner_url'),'image/gif' ]]))}do {my ($_tt_value,$_tt_error,$_tt_oldloop);my$_tt_list=['/cjt/datasource-min.js','/sharedjs/emailstats_summary_optimized.js' ];unless (UNIVERSAL::isa($_tt_list,'Template::Iterator')){$_tt_list=Template::Config->iterator($_tt_list)|| die$Template::Config::ERROR,"\n"}($_tt_value,$_tt_error)=$_tt_list->get_first();eval {$_tt_oldloop=$stash->get('loop')};$stash->set('loop',$_tt_list);eval {LOOP: while (!$_tt_error){$stash->{'src'}=$_tt_value;$output .= $context->process('_loadjs.tmpl');;($_tt_value,$_tt_error)=$_tt_list->get_next()}};$stash->set('loop',$_tt_oldloop);die $@ if $@;$_tt_error=0 if$_tt_error && $_tt_error eq Template::Constants::STATUS_DONE;die$_tt_error if$_tt_error};$stash->set('nvdata',$stash->get(['NVData',0,'get_page_nvdata',0]));$output .= '

';$output .= $context->process('_ajaxapp_styles.tmpl');$output .= $context->process('_ajaxapp_header.tmpl');$output .= '<script>CPANEL.nvdata.initial = ';$output .= $stash->get(['nvdata',0,'json',0])|| 'undefined';$output .= ';</script>

';if (!$stash->get(['cfg',0,'db_err',0])){$output .= '
<p class="description">';$output .= $stash->get('description');$output .= '<br/>';$output .= $context->process('_date_format_copy.tmpl');$output .= '</p>

<div id="cjt_static_notice_container"></div>

<div id="main_content">
    <div class="option_box_small">
        <div>
            <div class="top-heading group">
                <div class="left_float"><h4>';$output .= $stash->get(['Whostmgr',0,'page_name',0]);$output .= '</h4></div>
                <div class="right_float" id="hide_inquiry"><a href="javascript:void(0)" onclick=\'toggle_inquiry()\' id="toggle_inquiry_text">';$output .= $stash->get(['locale',0,'maketext',['Hide' ]]);$output .= '</a></div>
            </div>
        </div>
        <div id=\'container_box\'>
            <form action="javascript:void(0)" onsubmit="doupdate(); return false" name=\'search-fields\' id="search-fields">
                <div class="option_contents" id=\'option_contents\'>
                    <div class="form-contain group">
                        <div class="starts">
                            <div class="report-head">';$output .= $stash->get(['locale',0,'maketext',['Start Date:' ]]);$output .= '</div>
                            <div class="group">
                                <input type="text" name="startdate" id="startdate" size="12" />
                                <span id=\'start_cal\' onclick="show_start_cal()"><img src="';$output .= $stash->get(['MagicRevision',['/images/calendar.png' ]]);$output .= '" alt="select date" /></span>
                            </div>
                            <div id="startcal">
                                <div class="bd"><div id="cal1Container"></div></div>
                            </div>
                            <div class="time-wrap">
                                <div class="report-head">';$output .= $stash->get(['locale',0,'maketext',['Start Time:' ]]);$output .= '</div>
                                <input type="text" name="starttime" id="starttime"/>
                            </div>
                        </div>
                        <div class="starts_small">
                            <div class="report-head">';$output .= $stash->get(['locale',0,'maketext',['End Date:' ]]);$output .= '</div>
                            <div class="group">
                                <input type="text" name="enddate" id="enddate" size="12" />
                                <span id=\'end_cal\' onclick="show_end_cal()"><img src="';$output .= $stash->get(['MagicRevision',['/images/calendar.png' ]]);$output .= '" alt="select date" /></span>
                            </div>
                            <div class="time-wrap">
                                <div class="report-head">';$output .= $stash->get(['locale',0,'maketext',['End Time:' ]]);$output .= '</div>
                                <input type="text" name="endtime" id="endtime"/>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="the-button">
                    <span class="data90" style="margin-left: 5px;">';$output .= $stash->get(['locale',0,'maketext',['Data is retained for [quant,_1,day,days].',$stash->get('retention')]]);$output .= '</span>
                    <button type="submit" class="input-btn btn-primary" id="run-button" onclick="setSpinner(); doupdate(); return false">
                        <div id="spinner"><img src="';$output .= $stash->get('spinner_url');$output .= '"/></div>
                        <div id="spinner-text">';$output .= $stash->get(['locale',0,'maketext',['Run Report' ]]);$output .= '</div>
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<div id="cjt_pagenotice_container"></div>

<a name="report"></a>
<div id=\'table_container\'>
    <div class="latch">
        <div id=\'page-control\'>
            <div class="results-output">
                <div class="results-header">
                </div>
                <div class="total-items">
                    <div id="results-header"></div>
                </div>
            </div>
            <div id="floater">
                <div id="top-page-nav"></div>
            </div>
        </div>
        <br style="clear: both" />
        <div id="option_header" style="display:none;">
            <div class="table-box">
                <div class="table-top group">
                    <form action="javascript:void(0)" class="input-with-button-wrapper" onsubmit="setSpinner(); doupdate()"><input id=\'quicksearch\' type="text" placeholder="';$output .= $stash->get(['locale',0,'maketext',['Search â€¦' ]]);$output .= '" /><button type="submit">';$output .= $stash->get(['locale',0,'maketext',['Go' ]]);$output .= '</button></form>
                    <span class="advanced"><img src="';$output .= $stash->get(['MagicRevision',['/images/info.png' ]]);$output .= '" id="Search_TT" style="cursor:help"/> </span>
                    <div style=\'float: right\' id=\'toggle_col_options\'>
                        <table cellspacing=0 cellpadding=0>
                            <tr>
                                <td valign="middle">
                                    <div style="padding-top: 4px; display:none" id="failoptions">
                                        <a href="javascript:void(0)" onclick="failview(true)" id="summarylink">';$output .= $stash->get(['locale',0,'maketext',['Current View' ]]);$output .= '</a>
                                        |
                                        <a href="javascript:void(0)" onclick="failview(false)" id="detaillink">';$output .= $stash->get(['locale',0,'maketext',['Historical View' ]]);$output .= '</a>
                                    </div>
                                </td>
                                <td>&nbsp;  <a href=\'javascript:void(0)\' onclick=\'return toggle_options()\'><img src="';$output .= $stash->get(['MagicRevision',['/images/edit-table.png' ]]);$output .= '" alt="table options" title="Table Options" /></a>
                                <div id="col_options">
                                    <div class="options-top group">
                                        <div class="options-header">';$output .= $stash->get(['locale',0,'maketext',['Table Options' ]]);$output .= '</div>
                                        <div class="closeit"><a href=\'javascript:void(0)\' title="';$output .= $stash->get(['locale',0,'maketext',['Close' ]]);$output .= '" onclick=\'header_panel.hide(); return false\'>X</a></div>
                                    </div>
                                    <div class="hd"></div>
                                    <div class="options-bd">
                                        <div class="info-blurb">';$output .= $stash->get(['locale',0,'maketext',['Select the columns you wish to display in the table.' ]]);$output .= '</div>
                                        <div id="option_area">
                                        </div>
                                    </div>
                                </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                    <br style="clear:both" />
                </div>
                <div id="eximstatssummary" class=\'deliveryreport\'></div>
            </div>
        </div>
        <div id=\'bottom-nav\'>
            <div id=\'floater-bottom\' style="float:right; padding:0px; margin:0px">
                <div id="bottom-page-nav"></div>
            </div>
            <br style="clear: both" />
        </div>
        <br style="clear: both" />
    </div>
</div>

<br />
<div id="emailreport"></div>
<div style="width: 1px; height: 1px; position:absolute; top:-999999px; left:-999999px;" id="printpanel"></div>
<div id="dateSelect" style="display:none"></div>

';$output .= $context->include('_calendar.tmpl');$output .= '
';$output .= $context->process('_ajaxapp_footer.tmpl');$output .= '
<script>
var TIMESELECTOR_STYLESHEET = ';$output .= $stash->get(['MagicRevision',['/cjt/css/timeSelector-whm.css' ],'json',0]);$output .= ';
</script>
<script src="';$output .= $stash->get(['Whostmgr',0,'find_file_url',['sharedjs/email_ui_control_optimized.js' ]]);$output .= '" type="text/javascript"></script>
<script type="text/javascript">
//<![CDATA[

var faildefer = false;
var retention = ';$output .= $stash->get('retention')|| 'null';$output .= ';
if (/emailstats_faildefer_summary/i.test(document.location.href)) {
    faildefer = true;
    var from_nvdata = CPANEL.nvdata.initial && CPANEL.nvdata.initial.failview;
    if (from_nvdata) {
       default_initial_hidden_columns = [\'FAILCOUNT\',\'DEFERFAILCOUNT\',\'SUCCESSCOUNT\',\'DEFERCOUNT\',\'TOTALSIZE\',\'SENDCOUNT\'];
       DOM.get(\'summarylink\').style.fontWeight=\'bold\';
       DOM.get(\'detaillink\').style.fontWeight=\'normal\';
    } else {
       default_initial_hidden_columns = [\'REACHED_MAXEMAILS\', \'REACHED_MAXDEFERFAIL\'];
       DOM.get(\'summarylink\').style.fontWeight=\'normal\';
       DOM.get(\'detaillink\').style.fontWeight=\'bold\';
    }
    document.getElementById(\'failoptions\').style.display=\'inline\';
    resetColumns = { failview : from_nvdata };
}

default_minimum_columns = 0;
var failview = function (summary) {
    default_initial_hidden_columns = [];
    if (summary) {
        DOM.get(\'summarylink\').style.fontWeight=\'bold\';
        DOM.get(\'detaillink\').style.fontWeight=\'normal\';
        default_initial_hidden_columns = [\'FAILCOUNT\',\'DEFERFAILCOUNT\',\'SUCCESSCOUNT\',\'DEFERCOUNT\',\'TOTALSIZE\',\'SENDCOUNT\'];
    } else {
        DOM.get(\'summarylink\').style.fontWeight=\'normal\';
        DOM.get(\'detaillink\').style.fontWeight=\'bold\';
        default_initial_hidden_columns = [\'REACHED_MAXEMAILS\', \'REACHED_MAXDEFERFAIL\'];
    }
    CPANEL.nvdata.register("failview", function () {return summary;} );
    CPANEL.nvdata.save();
    var keys = eximstatstbl.deliveryreport.dt.getColumnSet().keys;
    for (var i=0; i< keys.length; i++ ) {
        var El = DOM.get(\'key_\' + keys[i].key);
        if (El) {
            El.checked=true;
            for (var ii=0; ii < default_initial_hidden_columns.length; ii++) {
                if (default_initial_hidden_columns[ii].toLowerCase() == keys[i].key.toLowerCase()) {
                    El.checked=false;
                }
            }
        }
        filterHeaders(keys[i].key);
    }
}

var eximstatstbl = new CPANEL.EximStatsSummary( {
    ';$output .= $stash->get('deliverytype')? ('deliverytype: \'' .$stash->get('deliverytype').'\','): '';$output .= '    ';$output .= $stash->get('group')? ('group: \'' .$stash->get('group').'\','): '';$output .= '    ';$output .= $stash->get('initialsort')? ('initialsort: \'' .$stash->get('initialsort').'\','): '';$output .= '    columns: ';$output .= $stash->get(['table_columns',0,'json',0]);$output .= ',
    starttime: "yesterday",
    useruri: "emailstats_search"
} );

var tt2= new YAHOO.widget.Tooltip("tt2", { context:"Search_TT", text: ';$output .= $stash->get(['locale',0,'maketext',['This search persists until you clear it. Because searching updates the report, new data may appear after you click [output,class,Go,_1].','ui-term-reference' ],'json',0]);$output .= ', autodismissdelay: 100000, xyoffset: [5,10]  });

//]]>
</script>

';$output .= $context->process('_emailstats_status_include.tmpl');$output .= '
'}else {$output .= '
';$output .= $context->process('_emailstats_unavailable.tmpl')}$output .= '

';$context->include('master_templates/master.tmpl',{'theme'=>'yui','app_key'=>$stash->get('app_key'),'stylesheets'=>[$stash->get(['Whostmgr',0,'find_file_url',['yui/assets/skins/sam/calendar.css' ]]),$stash->get(['Whostmgr',0,'find_file_url',['/mail.css' ]]),$stash->get(['Whostmgr',0,'find_file_url',['/cjt/css/wrapped-select.css' ]])],'scripts'=>['/yui/calendar/calendar-min.js','/yui-gen/data/data-debug.js' ],'extrastyle'=>'
        #contentContainer {
        position: relative;
        }
        #col_options {
            position: absolute;
            top: 0px;
            right: 0px;
        }
    ','content',$output })}}};if ($@){$_tt_error=$context->catch($@,\$output);die$_tt_error unless$_tt_error->type eq 'return'}return$output},DEFBLOCKS=>{},});