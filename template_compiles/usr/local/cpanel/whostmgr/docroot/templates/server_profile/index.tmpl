Template::Document->new({METADATA=>{'name'=>'/usr/local/cpanel/whostmgr/docroot/templates/server_profile/index.tmpl','modtime'=>'1728930269',},BLOCK=>sub {my$context=shift || die "template sub called without context\n";my$stash=$context->stash;my$output='';my$_tt_error;eval {BLOCK: {$stash->set('Whostmgr',$context->plugin('Whostmgr'));$stash->set('PAGE_BASE','/scripts7/server_profile/');$stash->set('PAGE_NAME',$stash->get(['Whostmgr',0,'get_page_name_by_url',[$stash->get('PAGE_BASE')]]));$output .= do {my$output='';$stash->set('locale_attributes',$stash->get(['execute',['Locale','get_attributes',{}],'data',0]));$stash->set('has_accounts_created',!$stash->get(['data',0,'allow_profile_change_with_users',0])&& $stash->get(['Whostmgr',0,'minimum_accounts_needed',[1 ]]));$stash->set('templates',['server_profile/views/activatingProfileView.ptt','server_profile/views/confirmProfileView.ptt','server_profile/views/selectOptionsView.ptt','server_profile/views/selectProfileView.ptt' ]);$stash->set('LANG',{'disables'=>$stash->get(['locale',0,'maketext',['Disables [list_and,_1]' ]]),'enables'=>$stash->get(['locale',0,'maketext',['Enables [list_and,_1]' ]]),'optional'=>$stash->get(['locale',0,'maketext',['[list_and,_1] [numerate,_2,is,are] optional.' ]])});$output .= '

';$output .= '

    <div id="pageContent" ng-controller="baseController">

        <cp-alert-list></cp-alert-list>

        <p class="description">
            ';$output .= $stash->get(['locale',0,'maketext',['You can use this interface to select a server‘s profile, based on the services that you want to the server to provide.' ]]);$output .= '<br/>
            ';$output .= $stash->get(['locale',0,'maketext',['This allows you to enable or disable specific services to reduce the resource load of a server.' ]]);$output .= '
        </p>

        ';if ($stash->get(['data',0,'child_accounts',0])){$output .= '
            <div class="alert alert-warning">
                    <span class="glyphicon glyphicon-exclamation-sign"></span>
                    <div class="alert-message">
                        <strong>';$output .= $stash->get(['locale',0,'maketext',['Warning:' ]]);$output .= '</strong> ';$output .= $stash->get(['locale',0,'maketext',['This node has one or more distributed accounts.' ]]);$output .= '
                        <p>
                        ';$output .= $stash->get(['locale',0,'maketext',['Selecting a new server profile can cause these accounts to lose functionality.' ]]);$output .= '
                        ';$output .= $stash->get(['locale',0,'maketext',['For example, the [output,em,Standard] and [output,em,Mail] profiles provide mail-related services.' ]]);$output .= '
                        ';$output .= $stash->get(['locale',0,'maketext',['If you select the [output,em,_1] or [output,em,Database] profile, the distributed account would be unable to access their webmail.','DNS' ]]);$output .= '
                        </p>
                    </div>
                </div>
        '}$output .= '

        ';if ($stash->get(['data',0,'available_profiles',0,'size',0])eq 1 && $stash->get(['data',0,'current_profile',0,'optional_roles',0,'size',0])eq 0){$output .= '
            <div class="alert alert-info" role="alert">
                <p>
                ';$output .= $stash->get(['locale',0,'maketext',['You do not need to configure the server’s optional roles. This server’s license is for the “[_1]” profile, which does not have any optional roles.',$stash->get(['data',0,'current_profile',0,'name',0])]]);$output .= '
                </p>
                ';$stash->set('custom_url',$stash->get(['Whostmgr',0,'get_custom_url',0]));$stash->set('cpanel_url',$stash->get('cp_security_token').'/scripts12/license_purchase_status/checkout?upgrade=1');if ($stash->get('custom_url')){$stash->set('upgrade_link',$stash->get('custom_url'))}else {$stash->set('upgrade_link',$stash->get('cpanel_url'))}$output .= '
                <p>
                    ';$output .= $stash->get(['locale',0,'maketext',['To select a different profile, you must upgrade your server’s license.' ]]);$output .= '
                    <a href="';$output .= $stash->get('upgrade_link');$output .= '" title="';$output .= $stash->get(['locale',0,'maketext',['Upgrade the server’s license and login again.' ]]);$output .= '" rel=\'noopener\'>
                        ';$output .= $stash->get(['locale',0,'maketext',['Upgrade the server’s license and login again.' ]]);$output .= '
                        <i class="fas fa-external-link-alt" aria-hidden="true"></i>
                    </a>
                </p>
            </div>
        '}else {$output .= '

            <div class="alert alert-info loadingProfiles" ng-if="!loaded">
                <span class="fas fa-spinner fa-spin"></span>
                ';$output .= $stash->get(['locale',0,'maketext',['Loading available server profiles …' ]]);$output .= '
            </div>

            <div ng-if="loaded" ng-cloak>
                <div ng-view></div>
            </div>

            ';do {my ($_tt_value,$_tt_error,$_tt_oldloop);my$_tt_list=$stash->get('templates');unless (UNIVERSAL::isa($_tt_list,'Template::Iterator')){$_tt_list=Template::Config->iterator($_tt_list)|| die$Template::Config::ERROR,"\n"}($_tt_value,$_tt_error)=$_tt_list->get_first();eval {$_tt_oldloop=$stash->get('loop')};$stash->set('loop',$_tt_list);eval {FOR1: while (!$_tt_error){$stash->{'ptt'}=$_tt_value;$output .= '
            <script id="';$output .= $stash->get('ptt');$output .= '" type="text/ng-template">';$output .= $context->process($stash->get('ptt'));$output .= '            </script>
            ';;($_tt_value,$_tt_error)=$_tt_list->get_next()}};$stash->set('loop',$_tt_oldloop);die $@ if $@;$_tt_error=0 if$_tt_error && $_tt_error eq Template::Constants::STATUS_DONE;die$_tt_error if$_tt_error};$output .= '

            <script type="text/javascript">
                var PAGE = PAGE || {};
                PAGE.currentProfile     = ';$output .= $stash->get(['data',0,'current_profile',0,'json',0]);$output .= ';
                PAGE.availableProfiles  = ';$output .= $stash->get(['data',0,'available_profiles',0,'json',0]);$output .= ';
            </script>

            ';$output .= $context->process('master_templates/cjt2_header_include.tt');$output .= '

        '}$output .= '

    </div>

';$context->include('master_templates/master.tmpl',{'header'=>$stash->get(['locale',0,'makevar',[$stash->get('PAGE_NAME')]]),'stylesheets'=>[$stash->get(['Whostmgr',0,'find_file_url',['/templates/server_profile/index.min.css' ]])],'breadcrumburl'=>$stash->get('PAGE_BASE'),'base'=>$stash->get('PAGE_BASE'),'theme'=>'bootstrap','CJT2_EXCLUSIVE'=>1,'app_key'=>'server_profile','content',$output })};$output .= '
'}};if ($@){$_tt_error=$context->catch($@,\$output);die$_tt_error unless$_tt_error->type eq 'return'}return$output},DEFBLOCKS=>{},});