Template::Document->new({METADATA=>{'modtime'=>'1728930269','name'=>'/usr/local/cpanel/whostmgr/docroot/templates/reservedip.tmpl',},BLOCK=>sub {my$context=shift || die "template sub called without context\n";my$stash=$context->stash;my$output='';my$_tt_error;eval {BLOCK: {$output .= do {my$output='';$stash->set('Net',$context->plugin('Net'));$stash->set('CPSort',$context->plugin('CPSort'));$output .= '<p>Any IP address you check off here will not be used to setup accounts.</p>
<form action="';$output .= $stash->get('cp_security_token');$output .= '/scripts/savereservedips" method="POST">
<table class="sortable" id="resip"><tr class="cellheader">
<!-- <th nonsortable="true"></th> -->
<th><b>IP</b></th><th nonsortable="true"><b>Reason for Reserving (optional)</b></th></tr>
';do {my ($_tt_value,$_tt_error,$_tt_oldloop);my$_tt_list=$stash->get(['data',0,'ipdata',0,'keys',0,'cpsort',[{'code'=>$stash->getref(['Net',0,'inet_aton',0]),'num'=>1 }]]);unless (UNIVERSAL::isa($_tt_list,'Template::Iterator')){$_tt_list=Template::Config->iterator($_tt_list)|| die$Template::Config::ERROR,"\n"}($_tt_value,$_tt_error)=$_tt_list->get_first();eval {$_tt_oldloop=$stash->get('loop')};$stash->set('loop',$_tt_list);eval {FOR1: while (!$_tt_error){$stash->{'ip'}=$_tt_value;$stash->set('delegated_to_user',$stash->get(['data',0,'ipdata',0,$stash->get('ip'),0,'delegated',0,$stash->get(['data',0,'user',0]),0]));if (!$stash->get(['data',0,'ipdata',0,$stash->get('ip'),0,'delegated',0,'size',0])){$stash->set('delegated_text','')}elsif ($stash->get(['data',0,'ipdata',0,$stash->get('ip'),0,'delegated',0,'size',0])<= 5){$stash->set('delegated_text',$stash->get(['locale',0,'maketext',['Delegated to [list_and,_1].',$stash->get(['data',0,'ipdata',0,$stash->get('ip'),0,'delegated',0])]]))}else {$stash->set('delegated_list',$stash->get(['data',0,'ipdata',0,$stash->get('ip'),0,'delegated',0]));$stash->set('others_count',$stash->get(['delegated_list',0,'size',0])- 4);$stash->set('delegated_text',$stash->get(['locale',0,'maketext',['Delegated to [_1], [_2], [_3], [_4], and [quant,_5,other,others].',$stash->get(['delegated_list',0,0,0]),$stash->get(['delegated_list',0,1,0]),$stash->get(['delegated_list',0,2,0]),$stash->get(['delegated_list',0,3,0]),$stash->get('others_count')]]))}if ($stash->get(['data',0,'ipdata',0,$stash->get('ip'),0,'shared',0,'size',0])){($_tt_value,$_tt_error)=$_tt_list->get_next();next FOR1}$stash->set('dedicated',$stash->get(['data',0,'ipdata',0,$stash->get('ip'),0,'dedicated_user',0]));$stash->set('nameserver',$stash->get(['data',0,'ipdata',0,$stash->get('ip'),0,'nameserver',0]));$stash->set('reserved',$stash->get(['data',0,'ipdata',0,$stash->get('ip'),0,'reserved',0]));$output .= '<tr class="';$output .= $stash->get(['loop',0,'index',0])% 2 ? 'tdshade2' : 'tdshade1';$output .= '">
<td sorttable_customkey=\'';$output .= $stash->get(['Net',0,'inet_aton',[$stash->get(['data',0,'get_public_ip',[$stash->get('ip')]])]]);$output .= '\'><label><input type="checkbox" ';if ($stash->get('reserved')){$output .= 'checked="checked"'}$output .= ' value="1" name="ip-';$output .= $stash->get('ip');$output .= '" />&nbsp;';$output .= $stash->get(['data',0,'get_public_ip',[$stash->get('ip')]]);$output .= '</label>';if ($stash->get('delegated_text')){$output .= ('<br />' .$stash->get('delegated_text'))}if ($stash->get('shared_text')){$output .= ('<br />' .$stash->get('shared_text'))}if ($stash->get('dedicated')){$output .= ('<br />Dedicated to ' .$stash->get('dedicated'))}if ($stash->get('nameserver')){$output .= ('<br />Nameserver: ' .$stash->get('nameserver'))}$output .= '</td>
<td><input type="text" name="reason-';$output .= $stash->get('ip');$output .= '" value="';$output .= $stash->get(['data',0,'reserved_reasons',0,$stash->get('ip'),0]);$output .= '" size="50" /></td></tr>
';;($_tt_value,$_tt_error)=$_tt_list->get_next()}};$stash->set('loop',$_tt_oldloop);die $@ if $@;$_tt_error=0 if$_tt_error && $_tt_error eq Template::Constants::STATUS_DONE;die$_tt_error if$_tt_error};$output .= '</table><input type="submit" class="btn-primary" value="Save" />
</form>
';$context->include('master_templates/master.tmpl',{'theme'=>'yui','app_key'=>'show_edit_reserved_ips','scripts'=>['/js/sorttable.js' ],'content',$output })}}};if ($@){$_tt_error=$context->catch($@,\$output);die$_tt_error unless$_tt_error->type eq 'return'}return$output},DEFBLOCKS=>{},});